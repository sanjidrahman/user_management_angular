{"ast":null,"code":"import { Injectable } from \"@angular/core\";\nimport { createEffect, ofType } from '@ngrx/effects';\nimport { LOAD_USERS, loadUsersSuccess } from \"./user.action\";\nimport { EMPTY, catchError, exhaustMap, map } from \"rxjs\";\nInjectable();\nexport class UserEffects {\n  constructor(action$, service) {\n    this.action$ = action$;\n    this.service = service;\n    this.userlist = createEffect(() => this.action$.pipe(ofType(LOAD_USERS), exhaustMap(action => {\n      return this.service.getAllUser().pipe(map(data => {\n        return loadUsersSuccess({\n          userlist: data\n        });\n      }), catchError(err => EMPTY));\n    })));\n  }\n}","map":{"version":3,"names":["Injectable","createEffect","ofType","LOAD_USERS","loadUsersSuccess","EMPTY","catchError","exhaustMap","map","UserEffects","constructor","action$","service","userlist","pipe","action","getAllUser","data","err"],"sources":["/Users/apple/Desktop/VS Project/Week 19/user_management/frontend/src/app/component/store/admin_user/user.effects.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { UserServicesService } from 'src/app/service/user-services.service';\nimport { LOAD_USERS, loadUsersSuccess } from \"./user.action\";\nimport { EMPTY, catchError, exhaustMap, map } from \"rxjs\";\nimport { User } from \"../../models/app.models\";\n\nInjectable()\n\nexport class UserEffects {\n\n    constructor(private action$: Actions, private service: UserServicesService) { }\n\n\n    userlist = createEffect(() =>\n        this.action$.pipe(\n            ofType(LOAD_USERS),\n            exhaustMap((action) => {\n                return this.service.getAllUser().pipe(\n                    map((data) => {\n                        return loadUsersSuccess({ userlist: data as User })\n                    }),\n                    catchError((err) => EMPTY)\n                )\n            })\n        )\n    )\n}"],"mappings":"AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,SAAkBC,YAAY,EAAEC,MAAM,QAAQ,eAAe;AAE7D,SAASC,UAAU,EAAEC,gBAAgB,QAAQ,eAAe;AAC5D,SAASC,KAAK,EAAEC,UAAU,EAAEC,UAAU,EAAEC,GAAG,QAAQ,MAAM;AAGzDR,UAAU,EAAE;AAEZ,OAAM,MAAOS,WAAW;EAEpBC,YAAoBC,OAAgB,EAAUC,OAA4B;IAAtD,KAAAD,OAAO,GAAPA,OAAO;IAAmB,KAAAC,OAAO,GAAPA,OAAO;IAGrD,KAAAC,QAAQ,GAAGZ,YAAY,CAAC,MACpB,IAAI,CAACU,OAAO,CAACG,IAAI,CACbZ,MAAM,CAACC,UAAU,CAAC,EAClBI,UAAU,CAAEQ,MAAM,IAAI;MAClB,OAAO,IAAI,CAACH,OAAO,CAACI,UAAU,EAAE,CAACF,IAAI,CACjCN,GAAG,CAAES,IAAI,IAAI;QACT,OAAOb,gBAAgB,CAAC;UAAES,QAAQ,EAAEI;QAAY,CAAE,CAAC;MACvD,CAAC,CAAC,EACFX,UAAU,CAAEY,GAAG,IAAKb,KAAK,CAAC,CAC7B;IACL,CAAC,CAAC,CACL,CACJ;EAf6E"},"metadata":{},"sourceType":"module","externalDependencies":[]}